# ğŸš€ ì‹¤í–‰ ë°©ë²• ê°€ì´ë“œ

## ğŸ“‹ ë¹ ë¥¸ ì‹¤í–‰ (2ê°œ í„°ë¯¸ë„)

### í„°ë¯¸ë„ 1: ë°±ì—”ë“œ ì„œë²„ (í¬íŠ¸ 8000)
```bash
cd /home/keti_spark1/ald-rag-lab
source torch-env/bin/activate
cd backend
uvicorn app:app --host 0.0.0.0 --port 8000 --reload
```

### í„°ë¯¸ë„ 2: í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ (í¬íŠ¸ 8080)
```bash
cd /home/keti_spark1/ald-rag-lab/frontend
python3 -m http.server 8080 --bind 0.0.0.0
```

### ë¸Œë¼ìš°ì € ì ‘ì†
- **ë¡œì»¬ ì ‘ì†**: http://localhost:8080
- **ë„¤íŠ¸ì›Œí¬ ì ‘ì†**: http://192.168.0.22:8080

---

## ğŸ¯ í•œ ë²ˆì— ì‹¤í–‰í•˜ê¸° (ìë™í™” ìŠ¤í¬ë¦½íŠ¸)

### ë°©ë²• 1: ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
```bash
cd /home/keti_spark1/ald-rag-lab

# ë°±ì—”ë“œ ì‹œì‘ (ë°±ê·¸ë¼ìš´ë“œ)
source torch-env/bin/activate
cd backend
nohup uvicorn app:app --host 0.0.0.0 --port 8000 --reload > /tmp/backend.log 2>&1 &

# í”„ë¡ íŠ¸ì—”ë“œ ì‹œì‘ (ë°±ê·¸ë¼ìš´ë“œ)
cd ../frontend
nohup python3 -m http.server 8080 --bind 0.0.0.0 > /tmp/frontend.log 2>&1 &

echo "âœ… ì„œë²„ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤!"
echo "ë°±ì—”ë“œ: http://localhost:8000"
echo "í”„ë¡ íŠ¸ì—”ë“œ: http://localhost:8080"
```

### ë°©ë²• 2: ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©
```bash
cd /home/keti_spark1/ald-rag-lab
chmod +x scripts/server/run_servers.sh
./scripts/server/run_servers.sh
```

---

## ğŸ“ ìƒì„¸ ì„¤ëª…

### 1ï¸âƒ£ ë°±ì—”ë“œ ì„œë²„ (FastAPI)

**í¬íŠ¸**: 8000  
**ê¸°ëŠ¥**: RAG API ì œê³µ

**ìˆ˜ë™ ì‹¤í–‰:**
```bash
cd /home/keti_spark1/ald-rag-lab
source torch-env/bin/activate          # ê°€ìƒí™˜ê²½ í™œì„±í™”
cd backend
uvicorn app:app --host 0.0.0.0 --port 8000 --reload
```

**í™•ì¸ ë°©ë²•:**
- ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8000 ì ‘ì†
- ë˜ëŠ” http://localhost:8000/docs (Swagger UI)

**ì¤‘ì§€:** `Ctrl + C`

---

### 2ï¸âƒ£ í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ (HTTP Server)

**í¬íŠ¸**: 8080  
**ê¸°ëŠ¥**: ì›¹ UI ì œê³µ

**ìˆ˜ë™ ì‹¤í–‰:**
```bash
cd /home/keti_spark1/ald-rag-lab/frontend
python3 -m http.server 8080 --bind 0.0.0.0
```

**í™•ì¸ ë°©ë²•:**
- ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8080 ì ‘ì†

**ì¤‘ì§€:** `Ctrl + C`

---

## ğŸ” ì„œë²„ ìƒíƒœ í™•ì¸

### í¬íŠ¸ ì‚¬ìš© í™•ì¸
```bash
# í¬íŠ¸ 8000 (ë°±ì—”ë“œ) í™•ì¸
lsof -i :8000

# í¬íŠ¸ 8080 (í”„ë¡ íŠ¸ì—”ë“œ) í™•ì¸
lsof -i :8080
```

### ì‹¤í–‰ ì¤‘ì¸ ì„œë²„ ì¢…ë£Œ
```bash
# ë°±ì—”ë“œ ì¢…ë£Œ
killall uvicorn

# í”„ë¡ íŠ¸ì—”ë“œ ì¢…ë£Œ
killall python3

# ë˜ëŠ” íŠ¹ì • í¬íŠ¸ ì¢…ë£Œ
kill $(lsof -t -i:8000)    # ë°±ì—”ë“œ
kill $(lsof -t -i:8080)    # í”„ë¡ íŠ¸ì—”ë“œ
```

---

## âš ï¸ ë¬¸ì œ í•´ê²°

### 1. "Address already in use" ì˜¤ë¥˜
```bash
# ì´ë¯¸ ì‹¤í–‰ ì¤‘ì¸ ì„œë²„ ì¢…ë£Œ
killall uvicorn
killall python3

# ë˜ëŠ” í¬íŠ¸ ì§ì ‘ í™•ì¸ í›„ ì¢…ë£Œ
lsof -i :8000
lsof -i :8080
```

### 2. ê°€ìƒí™˜ê²½ì´ ì—†ë‹¤ëŠ” ì˜¤ë¥˜
```bash
# ê°€ìƒí™˜ê²½ í™•ì¸
ls -la torch-env/

# ì—†ìœ¼ë©´ ìƒì„± (í•„ìš”ì‹œ)
python3 -m venv torch-env
source torch-env/bin/activate
pip install -r requirements.txt  # requirements.txtê°€ ìˆë‹¤ë©´
```

### 3. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ API ì—°ê²° ì•ˆ ë¨
- ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬(F12) â†’ Console í™•ì¸
- ë°±ì—”ë“œê°€ ì •ìƒ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸: http://localhost:8000
- ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ: `Ctrl + Shift + R` (í•˜ë“œ ë¦¬í”„ë ˆì‹œ)

### 4. ë„¤íŠ¸ì›Œí¬ IPë¡œ ì ‘ì† ì•ˆ ë¨
```bash
# í˜„ì¬ IP í™•ì¸
hostname -I
# ë˜ëŠ”
ifconfig | grep "inet 192"
```

ì ‘ì† ì£¼ì†Œ: `http://<IPì£¼ì†Œ>:8080`

---

## ğŸ“Œ ìš”ì•½

| ì„œë²„ | í¬íŠ¸ | ì‹¤í–‰ ëª…ë ¹ì–´ | ì ‘ì† ì£¼ì†Œ |
|------|------|-------------|-----------|
| ë°±ì—”ë“œ | 8000 | `uvicorn app:app --host 0.0.0.0 --port 8000` | http://localhost:8000 |
| í”„ë¡ íŠ¸ì—”ë“œ | 8080 | `python3 -m http.server 8080` | http://localhost:8080 |

**ê¸°ì–µí•˜ê¸°:**
- ë°±ì—”ë“œ: ê°€ìƒí™˜ê²½ í•„ìš” (`source torch-env/bin/activate`)
- í”„ë¡ íŠ¸ì—”ë“œ: `frontend` í´ë”ì—ì„œ ì‹¤í–‰
- ë‘ ì„œë²„ ëª¨ë‘ ì‹¤í–‰ë˜ì–´ì•¼ ì›¹ UI ì‚¬ìš© ê°€ëŠ¥

