# 📚 정확하고 전문적인 데이터 수집 가이드

**⚠️ 중요: RAG 시스템의 품질은 데이터의 정확성과 전문성에 직접적으로 의존합니다.**

## 🎯 데이터 수집 원칙

### ✅ 권장 방법 (정확성 보장)

1. **실제 문서에서 추출** (가장 권장)
   - 장비 매뉴얼
   - 공정 표준 문서
   - 기술 사양서
   - 트러블슈팅 가이드

2. **전문가 검증**
   - 모든 데이터는 도메인 전문가의 검토 필요
   - 기술적 정확성 확인
   - 실제 공정과의 일치성 검증

3. **신뢰할 수 있는 소스**
   - 제조사 공식 문서
   - 검증된 기술 논문
   - 실제 측정 데이터

### ❌ 피해야 할 방법

1. **LLM 생성만 의존** (주의 필요)
   - LLM은 학습 데이터 기반으로 생성하므로 오류 가능성 있음
   - 반드시 전문가 검토 필요
   - 실제 문서와 교차 검증 필수

2. **일반적인 웹 검색**
   - 신뢰할 수 없는 소스
   - 오래된 정보
   - 검증되지 않은 내용

## 🛠️ 도구 사용 가이드

### 1. 문서에서 추출 (extract_from_docs.py) ⭐ 추천

실제 매뉴얼이나 문서에서 전문적인 정보를 추출합니다.

#### 텍스트 파일에서 추출
```bash
# 단일 키워드
python extract_from_docs.py text --file manual.txt --keywords ALD

# 여러 키워드
python extract_from_docs.py text --file manual.txt --keywords ALD,Precursor,Purge,MFC
```

#### PDF 파일에서 추출
```bash
# PyPDF2 설치 필요: pip install PyPDF2
python extract_from_docs.py pdf --file equipment_manual.pdf --keywords MFC,Flow,압력
```

**장점:**
- ✅ 실제 문서에서 추출하므로 정확성 높음
- ✅ 구체적인 수치와 단위 포함
- ✅ 전문적인 용어와 표현 사용
- ✅ 자동으로 품질 필터링 (일반적 표현 제거)

**사용 시나리오:**
1. 장비 매뉴얼을 텍스트로 변환
2. 관련 키워드 지정
3. 추출된 문장 검토
4. 정확한 문장만 추가

### 2. LLM 기반 생성 (generate_docs.py) ⚠️ 주의

**반드시 전문가 검토가 필요합니다!**

```bash
python generate_docs.py llm --keyword ALD --count 5
```

**사용 시 주의사항:**
- ⚠️ 생성된 모든 문장을 전문가가 검토해야 함
- ⚠️ 수치와 단위의 정확성 확인 필수
- ⚠️ 실제 공정/장비와 일치하는지 검증 필요
- ⚠️ 오류가 있으면 즉시 수정 또는 삭제

**언제 사용:**
- 기존 데이터가 충분할 때 스타일 확장용
- 초기 데이터 수집 후 다양성 확보용
- **절대 단독으로 사용하지 말 것!**

### 3. 수동 추가 (manage_docs.py) ⭐ 가장 안전

전문가가 직접 검증한 정보를 추가합니다.

```bash
python manage_docs.py add --keyword "Temperature" --text "ALD 공정 온도는 150-400℃ 범위에서 설정되며, 박막 종류에 따라 최적 온도가 다르다."
```

**장점:**
- ✅ 100% 정확성 보장
- ✅ 전문가 지식 직접 반영
- ✅ 실제 경험 기반 정보 포함 가능

## 📋 데이터 품질 체크리스트

추가하기 전에 반드시 확인:

- [ ] **구체성**: 수치, 범위, 단위가 명확한가?
  - ✅ 좋음: "ALD 공정은 200-300℃에서 수행된다"
  - ❌ 나쁨: "ALD 공정은 적절한 온도에서 수행된다"

- [ ] **정확성**: 기술적 내용이 올바른가?
  - 실제 장비/공정과 일치하는가?
  - 수치가 현실적인 범위인가?

- [ ] **전문성**: 전문 용어가 올바르게 사용되었는가?
  - 표준 용어 사용
  - 약어의 정확한 의미

- [ ] **독립성**: 문장이 단독으로 의미를 가지는가?
  - 문맥 없이도 이해 가능한가?

- [ ] **중복 제거**: 기존 데이터와 중복되지 않는가?

## 🔄 권장 워크플로우

### 초기 데이터 구축

1. **문서 수집**
   ```
   - 장비 매뉴얼
   - 공정 표준 문서
   - 기술 사양서
   ```

2. **문서에서 추출**
   ```bash
   python extract_from_docs.py text --file manual.txt --keywords ALD,Precursor,Purge
   ```

3. **전문가 검토**
   - 추출된 문장 검토
   - 오류 수정
   - 누락된 정보 추가

4. **수동 보완**
   ```bash
   python manage_docs.py add --keyword "특수케이스" --text "검증된 정보"
   ```

### 데이터 확장

1. **LLM 생성 (선택적)**
   ```bash
   python generate_docs.py llm --keyword ALD --count 5
   ```

2. **엄격한 검토**
   - 모든 생성 문장 검토
   - 오류 발견 시 즉시 삭제
   - 정확한 문장만 유지

3. **문서와 교차 검증**
   - 생성 문장을 실제 문서와 비교
   - 불일치 시 삭제

## 📊 데이터 품질 모니터링

정기적으로 데이터 품질을 확인:

```bash
# 키워드별 그룹화 보기
python manage_docs.py group

# 통계 확인
python manage_docs.py stats
```

**확인 사항:**
- 일반적/모호한 문장이 있는가?
- 중복된 내용이 있는가?
- 오류가 있는가?

## ⚠️ 주의사항

1. **품질 > 양**
   - 정확한 10개 문장이 모호한 100개보다 낫습니다
   - 품질을 희생하고 양을 늘리지 마세요

2. **지속적인 검토**
   - 데이터 추가 후 정기적으로 검토
   - 오류 발견 시 즉시 수정

3. **소스 추적**
   - 어디서 왔는지 기록 (선택사항)
   - 신뢰할 수 있는 소스 우선 사용

## 🎓 예시: 좋은 데이터 vs 나쁜 데이터

### ✅ 좋은 데이터
- "ALD 공정은 200-300℃ 범위에서 수행되며, Precursor 종류에 따라 최적 온도가 다르다"
- "MFC는 0-1000 sccm 범위에서 1% 정밀도로 유량을 제어하며, 응답 시간은 0.5초 이내이다"
- "Purge 시간은 10-30초이며, N2 가스 100 sccm으로 주입하여 잔류 Precursor를 제거한다"

### ❌ 나쁜 데이터
- "ALD는 중요한 공정이다" (일반적, 모호)
- "MFC는 유량을 제어한다" (구체성 부족)
- "Purge는 필요하다" (정보 없음)

## 📞 도움말

데이터 수집에 대한 질문이나 문제가 있으면:
1. 문서에서 추출하는 방법 우선 고려
2. 전문가 검토 필수
3. 품질을 최우선으로

